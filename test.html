<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BookReader - á»¨ng dá»¥ng Ä‘á»c sÃ¡ch di Ä‘á»™ng</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Sidebar Menu -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>ğŸ“– BookReader</h2>
            <div class="sidebar-controls">
                <button class="sidebar-settings-btn" id="sidebar-settings-btn" title="CÃ i Ä‘áº·t">
                    <span class="settings-icon">âš™ï¸</span>
                </button>
                <button class="close-menu-btn" id="close-menu-btn">âœ•</button>
            </div>
        </div>
        
        <!-- Navigation khi Ä‘ang Ä‘á»c -->
        <div class="sidebar-nav" id="sidebar-nav" style="display: none;">
            <button class="back-btn" id="back-btn">â† Quay láº¡i</button>
            <span class="page-title" id="page-title">Má»¥c lá»¥c</span>
        </div>
        
        <div class="sidebar-content">
            <!-- TÃ¬m kiáº¿m tÃ i liá»‡u (chá»‰ hiá»‡n khi chÆ°a Ä‘á»c) -->
            <div class="documents-search-container" id="documents-search-container">
                <input type="text" id="documents-search" placeholder="ğŸ” TÃ¬m tÃ i liá»‡u..." class="documents-search-input">
                <div class="documents-search-results" id="documents-search-results"></div>
            </div>

            <!-- Danh sÃ¡ch tÃ i liá»‡u (chá»‰ hiá»‡n khi chÆ°a Ä‘á»c) -->
            <div class="documents-section" id="documents-section">
                <h3>ğŸ“š TÃ i liá»‡u cÃ³ sáºµn</h3>
                <div class="documents-list" id="documents-list">
                    <div class="document-placeholder">Äang táº£i danh sÃ¡ch...</div>
                </div>
            </div>

            <!-- TÃ¬m kiáº¿m má»¥c lá»¥c (chá»‰ hiá»‡n khi Ä‘ang Ä‘á»c) -->
            <div class="toc-search-container" id="toc-search-container" style="display: none;">
                <input type="text" id="toc-search" placeholder="ğŸ” TÃ¬m kiáº¿m má»¥c lá»¥c..." class="toc-search-input">
                <div class="toc-search-results" id="toc-search-results"></div>
            </div>

            <!-- Má»¥c lá»¥c (chá»‰ hiá»‡n khi Ä‘ang Ä‘á»c) -->
            <div class="toc-section" id="toc-section" style="display: none;">
                <div class="toc-container">
                    <ul id="toc-list">
                        <li class="toc-placeholder">Chá»n tÃ i liá»‡u Ä‘á»ƒ xem má»¥c lá»¥c</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="main-wrapper" id="main-wrapper">
        <!-- Compact Header -->
        <header class="reader-header">
            <div class="header-left">
                <button class="menu-toggle-btn" id="menu-toggle-btn" title="Menu">
                    <span class="menu-icon">â˜°</span>
                </button>
                <span class="book-title" id="book-title">BookReader</span>
            </div>
            
            <div class="header-right">
                <div class="page-indicator" id="page-indicator">
                    <span id="current-page">-</span>/<span id="total-pages">-</span>
                </div>
                <button class="settings-btn" id="settings-btn" title="CÃ i Ä‘áº·t">
                    <span class="settings-icon">âš™ï¸</span>
                </button>
            </div>
        </header>

        <!-- Reader Content -->
        <main class="content-reader" id="content-reader">
            <div class="placeholder-content" id="placeholder-content">
                <div class="welcome-icon">ğŸ“š</div>
                <h2>ChÃ o má»«ng Ä‘áº¿n vá»›i BookReader</h2>
                <p>á»¨ng dá»¥ng Ä‘á»c sÃ¡ch di Ä‘á»™ng chuyÃªn nghiá»‡p</p>
                <div class="welcome-features">
                    <div class="feature">
                        <span class="feature-icon">ğŸ“±</span>
                        <span>Tá»‘i Æ°u cho Ä‘iá»‡n thoáº¡i</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">ğŸ‘†</span>
                        <span>Vuá»‘t Ä‘á»ƒ chuyá»ƒn trang</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">ğŸ¨</span>
                        <span>Chá»§ Ä‘á» Ä‘á»c tÃ¹y chá»‰nh</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">ğŸŒ</span>
                        <span>Táº£i tá»« GitHub</span>
                    </div>
                </div>
                <button class="get-started-btn" id="get-started-btn">
                    Báº¯t Ä‘áº§u Ä‘á»c ngay
                </button>
            </div>
            
            <div id="file-content-display" class="file-content" style="display:none;"></div>
        </main>

        <!-- Progress Bar -->
        <footer class="reader-footer">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </footer>
    </div>

   <!-- Settings Panel -->
<div class="settings-panel active" id="settings-panel">
    <div class="settings-header">
        <h3>CÃ i Ä‘áº·t Ä‘á»c</h3>
        <button class="close-settings-btn" id="close-settings-btn">âœ•</button>
    </div>
    <div class="settings-content">
        <div class="setting-item">
            <label for="font-size">Cá»¡ chá»¯:</label>
            <select id="font-size">
                <option value="0.9">Nhá»</option>
                <option value="1" selected>Vá»«a</option>
                <option value="1.1">Lá»›n</option>
                <option value="1.2">Ráº¥t lá»›n</option>
            </select>
        </div>
        <div class="setting-item">
            <label for="theme">Chá»§ Ä‘á»:</label>
            <select id="theme">
                <option value="light" selected>SÃ¡ng</option>
                <option value="sepia">Sepia</option>
                <option value="dark">Tá»‘i</option>
            </select>
        </div>
        
        <!-- GitHub Configuration Section - CHá»ˆ cho admin -->
        <div class="github-section admin-only" id="github-section" style="display: none;">
            <h4>ğŸ“‚ Cáº¥u hÃ¬nh GitHub</h4>
            <div id="gh-config-section">
                <div class="form-group">
                    <label for="gh-owner">GitHub Owner:</label>
                    <input type="text" id="gh-owner" placeholder="username" value="Datkep92">
                </div>
                <div class="form-group">
                    <label for="gh-repo">GitHub Repo:</label>
                    <input type="text" id="gh-repo" placeholder="repository-name" value="aquyet">
                </div>
                <div class="form-group">
                    <label for="gh-base-path">Base Path:</label>
                    <input type="text" id="gh-base-path" placeholder="folder-name" value="docs/Quyet">
                </div>
                <div class="form-group">
                    <label for="gh-token">Token (tÃ¹y chá»n):</label>
                    <input type="password" id="gh-token" placeholder="ghp_xxx">
                </div>
            </div>
            <div class="github-buttons">
                <button type="button" class="github-btn" id="save-config-btn">
                    ğŸ’¾ LÆ°u cáº¥u hÃ¬nh
                </button>
                <button type="button" class="github-btn primary" id="load-from-github-btn">
                    ğŸŒ Táº£i tá»« GitHub
                </button>
                <button type="button" class="github-btn secondary" id="reconfigure-github-btn" style="display:none;">
                    âš™ï¸ Cáº¥u hÃ¬nh láº¡i GitHub
                </button>
            </div>
        </div>

        <!-- Admin Login Section - LUÃ”N hiá»ƒn thá»‹ cho má»i ngÆ°á»i -->
        <div class="admin-login-section" id="admin-login-section">
            <h4>ğŸ‘¨â€ğŸ’¼ Quáº£n trá»‹</h4>
            <div class="admin-buttons">
                <button type="button" class="admin-btn" id="admin-login-btn">
                    ğŸ”‘ ÄÄƒng nháº­p Admin
                </button>
            </div>
        </div>

        <!-- Admin Panel Section - CHá»ˆ hiá»ƒn thá»‹ khi Ä‘Ã£ Ä‘Äƒng nháº­p -->
        <div class="admin-section admin-only" id="admin-section" style="display: none;">
            <h4>ğŸ‘¨â€ğŸ’¼ Quáº£n trá»‹ viÃªn</h4>
            <div class="admin-buttons">
                <button type="button" class="admin-btn logout" id="admin-logout-btn">
                    ğŸšª ÄÄƒng xuáº¥t
                </button>
            </div>

            <!-- Upload Section -->
            <div class="upload-section" id="upload-section">
                <h5>ğŸ“¤ Upload tÃ i liá»‡u má»›i</h5>
                <div class="form-group">
                    <label for="author-name">TÃ¡c giáº£:</label>
                    <input type="text" id="author-name" placeholder="TÃªn tÃ¡c giáº£">
                </div>
                <div class="form-group">
                    <label for="book-title-input">TiÃªu Ä‘á»:</label>
                    <input type="text" id="book-title-input" placeholder="TiÃªu Ä‘á» sÃ¡ch">
                </div>
                <div class="form-group">
                    <label for="file-input">File HTML:</label>
                    <input type="file" id="file-input" accept=".html,.htm">
                </div>
                <div id="upload-preview" style="margin-top:8px;padding:8px;border-radius:6px;background:var(--bg-primary);border:1px solid var(--border-color);display:none;font-size:0.9rem;color:var(--text-secondary)"></div>
                <button type="button" class="upload-btn" id="upload-btn">
                    ğŸ“¤ Upload lÃªn GitHub
                </button>
            </div>

<div class="stats-section">
    <h5>ğŸ“Š Thá»‘ng kÃª truy cáº­p (LOCAL)</h5>
    <p style="font-size: 12px; color: #666; margin-bottom: 10px;">
        ğŸ’¡ chÆ°a Buid
    </p>
    <div class="admin-stats" id="admin-stats">
        <!-- Stats will be loaded here -->
    </div>
</div>

            <!-- User Management -->
            <div class="user-management-section" id="user-management-section">
                <h5>ğŸ‘¥ Quáº£n lÃ½ User</h5>
                <button type="button" class="admin-btn" id="grant-admin-btn">
                    ğŸ“‹ Danh sÃ¡ch User
                </button>
                <div class="users-list" id="users-list" style="margin-top: 15px; display: none;">
                    <!-- Users will be loaded here -->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Registration Modal -->
<div class="registration-modal" id="registration-modal" style="display: none;">
    <div class="registration-content">
        <div class="registration-header">
            <h3>ğŸ“± ÄÄƒng kÃ½ thiáº¿t bá»‹ má»›i</h3>
        </div>
        <div class="registration-body">
            <p>Vui lÃ²ng nháº­p thÃ´ng tin cá»§a báº¡n Ä‘á»ƒ tiáº¿p tá»¥c sá»­ dá»¥ng á»©ng dá»¥ng</p>
            <div class="form-group">
                <label for="user-name">Há» vÃ  tÃªn:</label>
                <input type="text" id="user-name" placeholder="Nháº­p há» vÃ  tÃªn" required>
            </div>
            <div class="form-group">
                <label for="user-phone">Sá»‘ Ä‘iá»‡n thoáº¡i:</label>
                <input type="tel" id="user-phone" placeholder="Nháº­p sá»‘ Ä‘iá»‡n thoáº¡i" required>
            </div>
            <div class="registration-buttons">
                <button type="button" class="registration-btn" id="registration-submit-btn">
                    ÄÄƒng kÃ½ vÃ  tiáº¿p tá»¥c
                </button>
            </div>
        </div>
    </div>
</div>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Äang táº£i sÃ¡ch...</p>
    </div>

    <script src="app.js"></script>
    <script src="auth.js"></script>
</body>
</html>